#include "stm32f10x.h"
#include"12864.h"
#include"delay.h"
#include"math.h"	
#include "rtc.h"
/************************************************************************************************
 //FILE:液晶12864-1型驱动程序
 //VERS:1.0
 //AUTHOR:南京信息工程大学朱俊丰
 //DATE:2015/03/11
************************************************************************************************/

//*******************************************************
//                    Datasheet
//*******************************************************
//*-------------------------------------------------------------------- *
//*  WELCOME          X=00H Y=00H LONG=80H  STATURE=4
//*-------------------------------------------------------------------- *
const static u8 WELCOME[392]={
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x80,0x80,0x80,
0x80,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,	
0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,	
0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,	
0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x00,	
0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,	
0x80,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,	
	
0x00,0x07,0xFF,0xFF,0xF8,0x00,0xF7,0xFF,0xFF,0xF0,0x00,0xF0,0xFF,0x0F,
0x00,0x00,0xFF,0xFF,0xFF,0x80,0x80,0x80,0xC0,0xF0,0xF1,0x03,0x07,0x06,	
0x00,0x00,0x00,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,	
0x00,0xE0,0xFC,0xFE,0x0F,0x03,0x01,0x00,0x00,0x00,0x01,0x03,0x0F,0x0F,	
0x00,0xF0,0xFC,0xFE,0x0F,0x01,0x00,0x00,0x00,0x01,0x0F,0xFE,0xFC,0xF0,	
0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xF0,0x00,0x80,0xF8,0xFF,0xFF,0xFF,0xFF,	
0x00,0x00,0xFF,0xFF,0xFF,0x80,0x80,0x80,0xC0,0xF0,0xF1,0x03,0x07,0x06,	
	
0x00,0x00,0x00,0x3F,0xFF,0xFE,0x7F,0x03,0x3F,0xFF,0xFE,0x7F,0x01,0x00,
0x00,0x00,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x01,0x07,0x07,0x00,0xC0,0xC0,	
0x00,0x00,0x00,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,	
0x00,0x1F,0x7F,0xFF,0xE0,0x80,0x00,0x00,0x00,0x00,0x00,0xC0,0xF0,0x30,	
0x00,0x1F,0x7F,0xFF,0xE0,0x00,0x00,0x00,0x00,0x00,0xC0,0xFF,0x7F,0x1F,	
0x00,0x00,0xFF,0xFF,0x00,0x1F,0xFF,0xFF,0xFF,0x0F,0x00,0xFF,0xFF,0xFF,	
0x00,0x00,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x01,0x07,0x07,0x00,0xC0,0xC0,	
	
0x00,0x00,0x00,0x00,0x03,0x03,0x00,0x00,0x00,0x03,0x03,0x00,0x00,0x00,/*"W",0*/
0x00,0x00,0x03,0x03,0x03,0x02,0x02,0x02,0x02,0x02,0x03,0x03,0x03,0x00,/*"E",1*/
0x00,0x02,0x02,0x03,0x03,0x03,0x02,0x02,0x02,0x02,0x02,0x03,0x03,0x03,/*"L",2*/
0x00,0x00,0x00,0x01,0x01,0x03,0x03,0x02,0x02,0x02,0x03,0x01,0x00,0x00,/*"C",3*/
0x00,0x00,0x00,0x00,0x01,0x03,0x02,0x02,0x02,0x03,0x01,0x00,0x00,0x00,/*"O",4*/
0x02,0x02,0x03,0x03,0x02,0x02,0x03,0x03,0x00,0x02,0x02,0x03,0x03,0x03,/*"M",5*/
0x02,0x00,0x03,0x03,0x03,0x02,0x02,0x02,0x02,0x02,0x03,0x03,0x03,0x00};/*"E",6*/

const	static u8	ZhongCode[51][28]={
//{0x0C,0x12,0x12,0xEC,0x10,0x08,0x08,0x08,0x08,0x08,0x08,0x10,0x78,0x00,0x00,0x00,0x00,0x0F,0x10,0x20,0x20,0x20,0x20,0x20,0x20,0x10,0x08,0x00},/*"℃",0*/
{0x18,0x24,0x24,0x18,0xC0,0x30,0x10,0x08,0x08,0x08,0x10,0x78,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x18,0x10,0x20,0x20,0x20,0x10,0x0C,0x00,0x00},/*"℃",0*/	
{0x00,0x08,0xC8,0x48,0x48,0x68,0x58,0x48,0x48,0x48,0xC8,0x08,0x00,0x00,0x00,0x00,0x3F,0x12,0x12,0x12,0x12,0x12,0x12,0x12,0x3F,0x00,0x00,0x00},/*"百",0*/
{0x00,0x00,0xFC,0x40,0x40,0x40,0x00,0xFC,0x80,0x40,0x20,0x10,0x00,0x00,0x00,0x00,0x3F,0x10,0x08,0x04,0x00,0x1F,0x20,0x20,0x20,0x38,0x00,0x00},/*"比",1*/
{0x00,0x30,0x10,0xD4,0x58,0x50,0x5C,0x50,0x58,0xD4,0x10,0x30,0x00,0x00,0x00,0x00,0x1C,0x05,0x05,0x05,0x3F,0x05,0x05,0x15,0x1C,0x00,0x00,0x00},/*"常",2*/
{0x00,0x00,0x78,0x40,0x40,0x40,0xFC,0x40,0x40,0x40,0x78,0x00,0x00,0x00,0x00,0x1E,0x10,0x10,0x10,0x10,0x1F,0x10,0x10,0x10,0x10,0x3E,0x00,0x00},/*"出",3*/
{0x00,0x20,0x20,0xFC,0x20,0x20,0x08,0x08,0x08,0xF8,0x08,0x08,0x00,0x00,0x00,0x02,0x22,0x3F,0x01,0x01,0x00,0x20,0x20,0x3F,0x00,0x00,0x00,0x00},/*"打",4*/
{0x00,0x40,0x48,0xC8,0x48,0x40,0x00,0x20,0xFC,0x20,0x20,0xE0,0x00,0x00,0x00,0x0C,0x0B,0x08,0x0A,0x0C,0x20,0x18,0x07,0x20,0x20,0x1F,0x00,0x00},/*"动",5*/
{0x00,0x00,0xF8,0x28,0x28,0xF8,0xA8,0xAC,0xA8,0xF8,0x28,0x28,0x00,0x00,0x00,0x20,0x1F,0x00,0x22,0x26,0x2A,0x12,0x12,0x2A,0x26,0x20,0x00,0x00},/*"度",6*/
{0x00,0x38,0x20,0x20,0xE0,0x3C,0x20,0x20,0x24,0x28,0x20,0x20,0x00,0x00,0x00,0x10,0x08,0x26,0x21,0x13,0x15,0x09,0x15,0x13,0x20,0x20,0x00,0x00},/*"发",7*/
{0x00,0x80,0x40,0xB0,0x8C,0x80,0x80,0x80,0x8C,0xB0,0x40,0x80,0x00,0x00,0x00,0x00,0x20,0x10,0x0C,0x03,0x20,0x20,0x20,0x1F,0x00,0x00,0x00,0x00},/*"分",8*/
{0x00,0x88,0x88,0x88,0xF8,0x80,0x40,0xBC,0x20,0x20,0xE0,0x20,0x00,0x00,0x00,0x3F,0x10,0x08,0x04,0x20,0x10,0x0B,0x04,0x0A,0x11,0x20,0x00,0x00},/*"改",9*/
{0x00,0x20,0x20,0xFC,0x20,0x00,0xF8,0xA8,0xA8,0xE8,0xA8,0xB8,0x00,0x00,0x00,0x02,0x22,0x3F,0x21,0x18,0x07,0x3E,0x12,0x13,0x12,0x3E,0x00,0x00},/*"据",10*/
{0x00,0x20,0xFC,0xA4,0xA4,0xA4,0xEC,0xB4,0xA4,0xA4,0xFC,0x20,0x00,0x00,0x00,0x20,0x2B,0x2A,0x2A,0x2A,0x3F,0x2A,0x2A,0x2A,0x2B,0x20,0x00,0x00},/*"量",11*/
{0x00,0x30,0x94,0xB4,0xB4,0x14,0xFC,0x14,0xB4,0xB4,0x94,0x30,0x00,0x00,0x00,0x04,0x04,0x02,0x16,0x15,0x16,0x2D,0x26,0x02,0x04,0x04,0x00,0x00},/*"零",12*/
{0x00,0x20,0xA0,0xFC,0x20,0x08,0xE8,0xBC,0xA8,0xBC,0xE8,0x08,0x00,0x00,0x00,0x02,0x01,0x3F,0x01,0x28,0x2B,0x1A,0x0E,0x1A,0x2B,0x28,0x00,0x00},/*"模",13*/
{0x00,0x40,0x20,0x9C,0x90,0x90,0x90,0xF0,0x90,0x90,0x90,0x10,0x00,0x00,0x00,0x04,0x04,0x07,0x04,0x04,0x04,0x3F,0x04,0x04,0x04,0x04,0x00,0x00},/*"年",14*/
{0x00,0x40,0xF0,0x0C,0x00,0xF8,0xA8,0xA8,0xAC,0xA8,0xA8,0xB8,0x00,0x00,0x00,0x00,0x3F,0x04,0x02,0x3F,0x04,0x1F,0x04,0x1F,0x24,0x3F,0x00,0x00},/*"偏",15*/
{0x00,0x00,0xF8,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0xF8,0x00,0x00,0x00,0x00,0x00,0x3F,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x3F,0x00,0x00,0x00},/*"日",16*/
{0x00,0x40,0x44,0xC8,0x00,0x40,0x3C,0x04,0x04,0x3C,0x40,0x40,0x00,0x00,0x00,0x00,0x00,0x1F,0x08,0x21,0x23,0x15,0x09,0x15,0x23,0x20,0x00,0x00},/*"设",17*/
{0x00,0xF8,0x88,0x88,0xF8,0x00,0x20,0x20,0x20,0x20,0xFC,0x20,0x00,0x00,0x00,0x1F,0x08,0x08,0x1F,0x00,0x00,0x01,0x26,0x20,0x3F,0x00,0x00,0x00},/*"时",18*/
{0x00,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0xFC,0x20,0x24,0x28,0x00,0x00,0x00,0x20,0x21,0x21,0x1F,0x11,0x11,0x10,0x03,0x0C,0x10,0x38,0x00,0x00},/*"式",19*/
{0x00,0x40,0x40,0x48,0x48,0x48,0xC8,0x48,0x48,0x48,0x40,0x40,0x00,0x00,0x00,0x10,0x08,0x06,0x00,0x20,0x3F,0x00,0x00,0x02,0x04,0x18,0x00,0x00},/*"示",20*/
{0x00,0xD0,0xB0,0xDC,0x90,0xA0,0x90,0xA8,0x24,0x28,0x10,0xA0,0x00,0x00,0x00,0x04,0x04,0x3F,0x02,0x3F,0x0A,0x3F,0x00,0x0F,0x20,0x3F,0x00,0x00},/*"输",21*/
{0x00,0x20,0xA8,0x60,0xFC,0xA0,0x28,0x40,0xBC,0x20,0xE0,0x20,0x00,0x00,0x00,0x25,0x2C,0x16,0x15,0x2C,0x01,0x20,0x17,0x08,0x17,0x20,0x00,0x00},/*"数",22*/
{0x00,0x44,0xC8,0x00,0x20,0x24,0x28,0xE0,0x28,0x24,0x20,0x00,0x00,0x00,0x00,0x20,0x1F,0x21,0x31,0x29,0x25,0x23,0x25,0x29,0x31,0x21,0x00,0x00},/*"送",23*/
{0x00,0x44,0xC8,0x00,0xE8,0x28,0x28,0xFC,0x28,0x28,0xE8,0x08,0x00,0x00,0x00,0x20,0x1F,0x20,0x29,0x25,0x23,0x3F,0x23,0x25,0x29,0x20,0x00,0x00},/*"速",24*/
{0x00,0x80,0x40,0xF0,0x0C,0x08,0xE8,0xA8,0xAC,0xA8,0xE8,0x08,0x00,0x00,0x00,0x00,0x00,0x3F,0x00,0x06,0x0A,0x2A,0x3A,0x0A,0x0A,0x06,0x00,0x00},/*"停",25*/
{0x00,0x44,0xC8,0x00,0xE4,0xA4,0xAC,0xF4,0xB4,0xAC,0xE0,0x00,0x00,0x00,0x00,0x20,0x1F,0x20,0x2F,0x22,0x22,0x2F,0x22,0x2A,0x2F,0x20,0x00,0x00},/*"通",26*/
{0x00,0x00,0x20,0x28,0x30,0x20,0xE0,0x3C,0x20,0x20,0x20,0xE0,0x00,0x00,0x00,0x20,0x10,0x08,0x04,0x03,0x00,0x01,0x26,0x20,0x20,0x1F,0x00,0x00},/*"为",27*/
{0x00,0x40,0xF0,0x0C,0x20,0xA0,0x20,0x24,0x28,0x20,0xA0,0x20,0x00,0x00,0x00,0x00,0x3F,0x00,0x20,0x21,0x2E,0x20,0x30,0x2C,0x23,0x20,0x00,0x00},/*"位",28*/
{0x00,0x10,0x10,0x70,0x90,0x14,0x18,0x10,0x90,0x70,0x10,0x10,0x00,0x00,0x00,0x20,0x20,0x10,0x11,0x0A,0x04,0x0A,0x11,0x10,0x20,0x20,0x00,0x00},/*"文",29*/
{0x00,0x08,0x08,0x08,0x08,0xF8,0x08,0x48,0x88,0x08,0x08,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x00,0x00,0x00,0x01,0x06,0x00,0x00,0x00},/*"下",30*/
{0x00,0x00,0xF8,0xA8,0xA8,0xA8,0xA8,0xA8,0xA8,0xA8,0xF8,0x00,0x00,0x00,0x00,0x22,0x24,0x28,0x3F,0x20,0x20,0x20,0x3F,0x28,0x24,0x22,0x00,0x00},/*"显",31*/
{0x00,0x40,0xF0,0x0C,0xE0,0x40,0x50,0x2C,0x28,0xA8,0x58,0x40,0x00,0x00,0x00,0x00,0x3F,0x00,0x0F,0x20,0x2A,0x2A,0x25,0x14,0x12,0x08,0x00,0x00},/*"修",32*/
{0x00,0x40,0x44,0xC8,0x00,0x88,0xF8,0x88,0x88,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0x08,0x00,0x3F,0x00,0x00,0x0F,0x10,0x38,0x00,0x00},/*"讯",33*/
{0x00,0x48,0x48,0xF8,0x44,0x20,0x10,0xAC,0x48,0xA8,0x18,0x00,0x00,0x00,0x00,0x04,0x03,0x3F,0x02,0x20,0x25,0x12,0x15,0x09,0x05,0x03,0x00,0x00},/*"移",34*/
{0x00,0x00,0xF8,0x00,0x00,0x08,0x30,0x00,0x00,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0x24,0x22,0x11,0x10,0x08,0x06,0x09,0x10,0x20,0x00,0x00},/*"以",35*/
{0x00,0xF8,0x48,0x48,0x44,0x44,0x00,0xF8,0x08,0x08,0x08,0xF8,0x00,0x00,0x00,0x0F,0x08,0x04,0x04,0x02,0x00,0x3F,0x00,0x08,0x08,0x0F,0x00,0x00},/*"印",36*/
{0x00,0x00,0x00,0xF8,0x48,0x48,0x48,0x48,0x48,0x48,0xF8,0x00,0x00,0x00,0x00,0x20,0x18,0x07,0x02,0x02,0x02,0x02,0x22,0x22,0x3F,0x00,0x00,0x00},/*"月",37*/
{0x00,0x10,0x10,0x90,0x70,0x1C,0x10,0x10,0xD0,0x10,0x10,0x10,0x00,0x00,0x00,0x02,0x01,0x3F,0x00,0x20,0x22,0x22,0x3F,0x22,0x22,0x20,0x00,0x00},/*"在",38*/
{0x00,0x88,0xB8,0xAC,0xF8,0xA8,0x00,0xF8,0x28,0x24,0xE4,0x20,0x00,0x00,0x00,0x00,0x00,0x3E,0x2B,0x2A,0x2B,0x2A,0x2A,0x3E,0x01,0x00,0x00,0x00},/*"暂",39*/
{0x00,0x90,0xA0,0xFC,0xA0,0x90,0x00,0x00,0xFC,0x20,0x20,0x20,0x00,0x00,0x00,0x04,0x02,0x3F,0x02,0x04,0x3F,0x11,0x11,0x11,0x11,0x3F,0x00,0x00},/*"粘",40*/
{0x00,0x00,0x08,0x88,0x08,0x08,0xF8,0x08,0x08,0x08,0x08,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x3F,0x21,0x21,0x21,0x21,0x20,0x00,0x00},/*"正",41*/
{0x00,0x40,0xF0,0x0C,0x00,0xE8,0xA8,0xBC,0xA8,0xA8,0xE8,0x08,0x00,0x00,0x00,0x00,0x3F,0x00,0x20,0x3F,0x2A,0x2A,0x2A,0x2A,0x3F,0x20,0x00,0x00},/*"值",42*/
{0x00,0x40,0x5C,0x54,0x54,0x5C,0xF4,0x5C,0x54,0x54,0x5C,0x40,0x00,0x00,0x00,0x20,0x20,0x3F,0x21,0x21,0x39,0x21,0x21,0x3F,0x20,0x20,0x00,0x00},/*"置",43*/
{0x00,0x00,0xE0,0x20,0x20,0x20,0xFC,0x20,0x20,0x20,0xE0,0x00,0x00,0x00,0x00,0x00,0x07,0x02,0x02,0x02,0x3F,0x02,0x02,0x02,0x07,0x00,0x00,0x00},/*"中",44*/
{0x00,0x20,0x5C,0xD0,0x50,0x50,0x00,0xE0,0x20,0xFC,0x20,0xE0,0x00,0x00,0x00,0x02,0x02,0x3F,0x12,0x0A,0x00,0x07,0x02,0x3F,0x02,0x07,0x00,0x00},/*"钟",45*/
{0x00,0xD0,0x3C,0xD0,0x00,0x90,0x90,0xF0,0x9C,0x90,0x90,0x80,0x00,0x00,0x00,0x09,0x09,0x3F,0x05,0x00,0x0B,0x0A,0x12,0x1A,0x26,0x00,0x00,0x00},/*"转",46*/
{0x00,0x00,0x00,0x08,0x08,0x08,0xC8,0x28,0x18,0x08,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x21,0x21,0x3F,0x01,0x01,0x01,0x01,0x01,0x00,0x00},/*"子",47*/
{0x00,0x00,0xF0,0x90,0x90,0x98,0x94,0x90,0x90,0x90,0xF0,0x00,0x00,0x00,0x00,0x00,0x3F,0x24,0x24,0x24,0x24,0x24,0x24,0x24,0x3F,0x00,0x00,0x00},/*"自",48*/
{0x00,0x00,0xE4,0x08,0xE0,0x24,0x24,0x24,0x24,0xE4,0x04,0xFC,0x00,0x00,0x00,0x00,0x3F,0x00,0x0F,0x09,0x09,0x09,0x09,0x2F,0x20,0x3F,0x00,0x00}/*"间",0*/
};

const static u8 AsciiCode[95][14]={
{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*" ",0*/
{0x00,0x00,0x00,0xF8,0x00,0x00,0x00,0x00,0x00,0x18,0x19,0x00,0x00,0x00},/*"!",1*/
{0x00,0x10,0x08,0x14,0x08,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*""",2*/
{0x40,0x40,0xF0,0x40,0xF0,0x40,0x00,0x04,0x1F,0x04,0x1E,0x05,0x04,0x00},/*"#",3*/
{0x00,0x60,0x90,0xF8,0x10,0x60,0x00,0x00,0x0C,0x10,0x3F,0x11,0x0E,0x00},/*"$",4*/
{0xE0,0x10,0xE0,0x80,0x60,0x10,0x00,0x00,0x11,0x0C,0x03,0x0E,0x11,0x0E},/*"%",5*/
{0x00,0xE0,0x90,0x60,0x00,0x00,0x00,0x0F,0x10,0x13,0x1C,0x17,0x11,0x08},/*"&",6*/
{0x20,0x2C,0x1C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"'",7*/
{0x00,0x00,0x00,0xE0,0x18,0x04,0x00,0x00,0x00,0x00,0x07,0x18,0x20,0x00},/*"(",8*/
{0x00,0x04,0x18,0xE0,0x00,0x00,0x00,0x00,0x20,0x18,0x07,0x00,0x00,0x00},/*")",9*/
{0x40,0x40,0x80,0xF0,0x80,0x40,0x40,0x02,0x02,0x01,0x0F,0x01,0x02,0x02},/*"*",10*/
{0x80,0x80,0x80,0xF0,0x80,0x80,0x80,0x00,0x00,0x00,0x07,0x00,0x00,0x00},/*"+",11*/
{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x58,0x38,0x00,0x00,0x00,0x00},/*",",12*/
{0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"-",13*/
{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x00,0x00,0x00,0x00},/*".",14*/
{0x00,0x00,0x00,0x00,0xC0,0x38,0x04,0x00,0x20,0x1C,0x03,0x00,0x00,0x00},/*"/",15*/
{0x00,0xE0,0x10,0x10,0x10,0xE0,0x00,0x00,0x0F,0x10,0x10,0x10,0x0F,0x00},/*"0",0*/
{0x00,0x00,0x20,0xF0,0x00,0x00,0x00,0x00,0x00,0x10,0x1F,0x10,0x00,0x00},/*"1",1*/
{0x00,0x20,0x10,0x10,0x10,0xE0,0x00,0x00,0x18,0x14,0x12,0x11,0x10,0x00},/*"2",2*/
{0x00,0x20,0x10,0x10,0x10,0xE0,0x00,0x00,0x08,0x10,0x11,0x11,0x0E,0x00},/*"3",3*/
{0x00,0x00,0x80,0x60,0xF0,0x00,0x00,0x00,0x06,0x05,0x04,0x1F,0x04,0x00},/*"4",4*/
{0x00,0xF0,0x90,0x90,0x90,0x10,0x00,0x00,0x09,0x10,0x10,0x10,0x0F,0x00},/*"5",5*/
{0x00,0xE0,0x10,0x10,0x10,0x20,0x00,0x00,0x0F,0x11,0x11,0x11,0x0E,0x00},/*"6",6*/
{0x00,0x10,0x10,0x10,0xD0,0x30,0x00,0x00,0x00,0x1C,0x03,0x00,0x00,0x00},/*"7",7*/
{0x00,0xE0,0x10,0x10,0x10,0xE0,0x00,0x00,0x0E,0x11,0x11,0x11,0x0E,0x00},/*"8",8*/
{0x00,0xE0,0x10,0x10,0x10,0xE0,0x00,0x00,0x08,0x11,0x11,0x11,0x0F,0x00},/*"9",9*/
// {0xC0,0x20,0x10,0x10,0x20,0xC0,0x00,0x07,0x08,0x10,0x10,0x08,0x07,0x00},/*"0",16*/
// {0x00,0x20,0x20,0xF0,0x00,0x00,0x00,0x00,0x10,0x10,0x1F,0x10,0x10,0x00},/*"1",17*/
// {0x00,0x60,0x10,0x10,0x10,0xE0,0x00,0x00,0x18,0x14,0x12,0x11,0x18,0x00},/*"2",18*/
// {0x00,0x60,0x10,0x90,0x90,0x60,0x00,0x00,0x0C,0x10,0x10,0x10,0x0F,0x00},/*"3",19*/
// {0x00,0x80,0x40,0x20,0xF8,0x00,0x00,0x02,0x05,0x04,0x14,0x1F,0x14,0x00},/*"4",20*/
// {0x00,0xF0,0x90,0x90,0x90,0x10,0x00,0x00,0x0D,0x10,0x10,0x10,0x0F,0x00},/*"5",21*/
// {0xC0,0x20,0x90,0x90,0x90,0x30,0x00,0x0F,0x11,0x10,0x10,0x10,0x0F,0x00},/*"6",22*/
// {0x00,0x70,0x10,0x10,0xD0,0x30,0x00,0x00,0x00,0x00,0x1F,0x00,0x00,0x00},/*"7",23*/
// {0x60,0x90,0x10,0x10,0x90,0x60,0x00,0x0E,0x11,0x11,0x11,0x11,0x0E,0x00},/*"8",24*/
// {0xE0,0x10,0x10,0x10,0x10,0xE0,0x00,0x19,0x12,0x12,0x12,0x09,0x07,0x00},/*"9",25*/
{0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x00,0x00,0x00},/*":",26*/
{0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x40,0x30,0x00,0x00,0x00},/*";",27*/
{0x00,0x80,0x40,0x20,0x10,0x08,0x00,0x00,0x00,0x01,0x02,0x04,0x08,0x00},/*"<",28*/
{0x40,0x40,0x40,0x40,0x40,0x40,0x00,0x02,0x02,0x02,0x02,0x02,0x02,0x00},/*"=",29*/
{0x00,0x08,0x10,0x20,0x40,0x80,0x00,0x00,0x08,0x04,0x02,0x01,0x00,0x00},/*">",30*/
{0x70,0x08,0x08,0x08,0x88,0x70,0x00,0x00,0x00,0x18,0x1B,0x00,0x00,0x00},/*"?",31*/
{0xC0,0x20,0x90,0x50,0xD0,0x20,0xC0,0x07,0x08,0x17,0x14,0x13,0x14,0x0B},/*"@",32*/
{0x00,0x00,0xC0,0x30,0xC0,0x00,0x00,0x10,0x1C,0x13,0x02,0x13,0x1C,0x10},/*"A",33*/
{0x10,0xF0,0x90,0x90,0x90,0x60,0x00,0x10,0x1F,0x10,0x10,0x10,0x0F,0x00},/*"B",34*/
{0xC0,0x20,0x10,0x10,0x10,0x70,0x00,0x07,0x08,0x10,0x10,0x10,0x08,0x00},/*"C",35*/
{0x10,0xF0,0x10,0x10,0x20,0xC0,0x00,0x10,0x1F,0x10,0x10,0x08,0x07,0x00},/*"D",36*/
{0x10,0xF0,0x10,0x10,0x90,0x30,0x00,0x10,0x1F,0x11,0x11,0x13,0x18,0x00},/*"E",37*/
{0x10,0xF0,0x10,0x10,0x90,0x10,0x20,0x10,0x1F,0x11,0x01,0x03,0x00,0x00},/*"F",38*/
{0xC0,0x20,0x10,0x10,0x10,0x70,0x00,0x07,0x08,0x10,0x10,0x12,0x0E,0x02},/*"G",39*/
{0x10,0xF0,0x10,0x00,0x10,0xF0,0x10,0x10,0x1F,0x11,0x01,0x11,0x1F,0x10},/*"H",40*/
{0x00,0x10,0x10,0xF0,0x10,0x10,0x00,0x00,0x10,0x10,0x1F,0x10,0x10,0x00},/*"I",41*/
{0x00,0x10,0x10,0xF0,0x10,0x10,0x00,0x60,0x40,0x40,0x3F,0x00,0x00,0x00},/*"J",42*/
{0x10,0xF0,0x10,0x80,0x50,0x30,0x10,0x10,0x1F,0x11,0x01,0x16,0x18,0x10},/*"K",43*/
{0x10,0xF0,0x10,0x00,0x00,0x00,0x00,0x10,0x1F,0x10,0x10,0x10,0x18,0x00},/*"L",44*/
{0x10,0xF0,0xF0,0x00,0xF0,0xF0,0x10,0x10,0x1F,0x00,0x1F,0x00,0x1F,0x10},/*"M",45*/
{0x10,0xF0,0x70,0x80,0x10,0xF0,0x10,0x10,0x1F,0x10,0x03,0x0C,0x1F,0x00},/*"N",46*/
{0xC0,0x20,0x10,0x10,0x20,0xC0,0x00,0x07,0x08,0x10,0x10,0x08,0x07,0x00},/*"O",47*/
{0x10,0xF0,0x10,0x10,0x10,0xE0,0x00,0x10,0x1F,0x11,0x01,0x01,0x00,0x00},/*"P",48*/
{0xC0,0x20,0x10,0x10,0x20,0xC0,0x00,0x07,0x08,0x14,0x14,0x38,0x27,0x00},/*"Q",49*/
{0x10,0xF0,0x90,0x90,0x90,0x60,0x00,0x10,0x1F,0x10,0x01,0x06,0x18,0x10},/*"R",50*/
{0x00,0x60,0x90,0x10,0x10,0x30,0x00,0x00,0x18,0x10,0x11,0x11,0x0E,0x00},/*"S",51*/
{0x30,0x10,0x10,0xF0,0x10,0x10,0x30,0x00,0x00,0x10,0x1F,0x10,0x00,0x00},/*"T",52*/
{0x10,0xF0,0x10,0x00,0x10,0xF0,0x10,0x00,0x0F,0x10,0x10,0x10,0x0F,0x00},/*"U",53*/
{0x10,0x70,0x90,0x00,0x90,0x70,0x10,0x00,0x00,0x07,0x18,0x07,0x00,0x00},/*"V",54*/
{0x10,0xF0,0x00,0xF0,0x00,0xF0,0x10,0x00,0x03,0x1E,0x01,0x1E,0x03,0x00},/*"W",55*/
{0x10,0x30,0xD0,0x00,0xD0,0x30,0x10,0x10,0x18,0x16,0x01,0x16,0x18,0x10},/*"X",56*/
{0x10,0x30,0xD0,0x00,0xD0,0x30,0x10,0x00,0x00,0x10,0x1F,0x10,0x00,0x00},/*"Y",57*/
{0x20,0x10,0x10,0x90,0x70,0x10,0x00,0x10,0x1C,0x13,0x10,0x10,0x18,0x00},/*"Z",58*/
{0x00,0x00,0x00,0xFC,0x04,0x04,0x00,0x00,0x00,0x00,0x3F,0x20,0x20,0x00},/*"[",59*/
{0x00,0x18,0x60,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x0C,0x30,0x00},/*"\",60*/
{0x00,0x04,0x04,0xFC,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x00,0x00,0x00},/*"]",61*/
{0x00,0x00,0x08,0x04,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"^",62*/
{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0x40,0x40,0x40,0x40,0x40},/*"_",63*/
{0x00,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x00,0x00,0x00},/*"`",64*/
{0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x09,0x14,0x12,0x12,0x1F,0x10},/*"a",65*/
{0x10,0xF0,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x10,0x10,0x10,0x0F,0x00},/*"b",66*/
{0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x0F,0x10,0x10,0x10,0x09,0x00},/*"c",67*/
{0x00,0x00,0x80,0x80,0x90,0xF0,0x00,0x00,0x0F,0x10,0x10,0x10,0x1F,0x10},/*"d",68*/
{0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x0F,0x12,0x12,0x12,0x0B,0x00},/*"e",69*/
{0x80,0x80,0xE0,0x90,0x90,0x30,0x00,0x00,0x10,0x1F,0x10,0x10,0x00,0x00},/*"f",70*/
{0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x3B,0x54,0x54,0x53,0x20,0x00},/*"g",71*/
{0x10,0xF0,0x00,0x80,0x80,0x00,0x00,0x10,0x1F,0x11,0x00,0x10,0x1F,0x10},/*"h",72*/
{0x00,0x80,0x80,0x90,0x00,0x00,0x00,0x00,0x10,0x10,0x1F,0x10,0x10,0x00},/*"i",73*/
{0x00,0x00,0x80,0x80,0x90,0x00,0x00,0x00,0x40,0x40,0x40,0x3F,0x00,0x00},/*"j",74*/
{0x10,0xF0,0x00,0x80,0x80,0x80,0x00,0x10,0x1F,0x14,0x06,0x19,0x10,0x00},/*"k",75*/
{0x00,0x10,0x10,0xF0,0x00,0x00,0x00,0x00,0x10,0x10,0x1F,0x10,0x10,0x00},/*"l",76*/
{0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x10,0x1F,0x00,0x1F,0x00,0x1F,0x10},/*"m",77*/
{0x80,0x80,0x00,0x80,0x80,0x00,0x00,0x10,0x1F,0x11,0x00,0x10,0x1F,0x10},/*"n",78*/
{0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x0F,0x10,0x10,0x10,0x0F,0x00},/*"o",79*/
{0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x40,0x7F,0x50,0x10,0x10,0x0F,0x00},/*"p",80*/
{0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x0F,0x10,0x10,0x50,0x7F,0x40},/*"q",81*/
{0x80,0x80,0x80,0x00,0x80,0x80,0x00,0x10,0x10,0x1F,0x11,0x10,0x00,0x00},/*"r",82*/
{0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x19,0x12,0x12,0x14,0x09,0x00},/*"s",83*/
{0x00,0x80,0x80,0xE0,0x80,0x80,0x00,0x00,0x00,0x00,0x0F,0x10,0x10,0x00},/*"t",84*/
{0x80,0x80,0x00,0x00,0x80,0x80,0x00,0x00,0x0F,0x10,0x10,0x10,0x1F,0x10},/*"u",85*/
{0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x01,0x0E,0x10,0x0E,0x01,0x00},/*"v",86*/
{0x80,0x80,0x00,0x80,0x00,0x80,0x80,0x00,0x07,0x18,0x07,0x18,0x07,0x00},/*"w",87*/
{0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x10,0x19,0x16,0x06,0x19,0x10,0x00},/*"x",88*/
{0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x40,0x41,0x66,0x18,0x06,0x01,0x00},/*"y",89*/
{0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x11,0x18,0x16,0x11,0x18,0x00},/*"z",90*/
{0x00,0x00,0x00,0x80,0x7C,0x04,0x00,0x00,0x00,0x00,0x00,0x3F,0x20,0x00},/*"{",91*/
{0x00,0x00,0x00,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0x00,0x00,0x00},/*"|",92*/
{0x00,0x04,0x7C,0x80,0x00,0x00,0x00,0x00,0x20,0x3F,0x00,0x00,0x00,0x00},/*"}",93*/
{0x00,0x04,0x02,0x02,0x04,0x08,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00}/*"~",94*/
};


#define		HEAT_FLAG  1

extern u8	english_flag;
extern u8 r_type;
extern u8 s_type;
extern u8 o_type;
extern u8 c_type;
extern u8 MUEN_ST;
extern u8 ITEM_ST;

const unsigned char s_dis[3][4]={{'7','.','5',0},{' ','7','5',0},{'7','5','0',0}};
const unsigned char r_dis[7][4]={{'0','.','1',0},{'0','.','2',0},{'0','.','4',0},{'0','.','5',0},{' ','1',' ',0},{' ','1','0',0},{'1','0','0',0}};
//const unsigned char r_dis[6]={0,1,2,3,4,5};
//const unsigned char r_dis[5][2]={"21","27","28","29","30"};
/************************************************************************************************
@f_name: void LCD12864_InitPort(void)
@brief:	 初始化硬件端口配置
@param:	 None
@return: None
************************************************************************************************/
void LCD12864_InitPort(void)
{
	GPIO_InitTypeDef  GPIO_InitStructure;	//定义结构体		
	
	RCC_APB2PeriphClockCmd(GPIOCLK|RCC_APB2Periph_AFIO, ENABLE);  //使能功能复用IO时钟，不开启复用时钟不能显示
	GPIO_PinRemapConfig(GPIO_Remap_SWJ_JTAGDisable,ENABLE);    		//把调试设置普通IO口

	GPIO_InitStructure.GPIO_Pin  = LCD_GPIO_AC;					//数据口配置成开漏输出模式，此模式下读输入寄存器的值得到IO口状态
	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;   	//开漏输出
	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;  
	GPIO_Init(LCD12864_GPIO_A , &GPIO_InitStructure);    //IO口初始化函数（使能上述配置）

	GPIO_InitStructure.GPIO_Pin  = LCD_GPIO_AD;					//数据口配置成开漏输出模式，此模式下读输入寄存器的值得到IO口状态
	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;   	//开漏输出
	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;  
	GPIO_Init(LCD12864_GPIO_A , &GPIO_InitStructure);    //IO口初始化函数（使能上述配置）	
	
	GPIO_InitStructure.GPIO_Pin  = LCD_GPIO_B;
	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;  		//推挽输出   
	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
	GPIO_Init(LCD12864_GPIO_B , &GPIO_InitStructure); 

	//GPIO_Init(LCD12864_GPIO_A , &GPIO_InitStructure);	  //初始化IO口配置
	//GPIO_Write(LCD12864_GPIO ,0xffff);	
	LCD_WriteData(0xff);
	LCD_EN(1);
	LCD_RW(1);
	LCD_RS(1);
	LCD_CS1(0);
	LCD_CS2(0);
	LCD_RST(1);
}
/************************************************************************************************
@f_name: void NOP(void)
@brief:	 延时函数
@param:	 None
@return: None
************************************************************************************************/
/*void NOP(void)
{ u8 i;	for(i=0; i<100; i++); } */
/************************************************************************************************
@f_name: u8 LCD12864_busy(void)
@brief:	 检测忙状态
@param:	 None
@return: None
************************************************************************************************/
u8 LCD12864_busy(void)
{
	u8 x;
	LCD_EN(0); 
//	LCD_CS1(1);
//	LCD_CS2(1);
	LCD_RS(0); 
	LCD_RW(1);  	
	delay_ms(1);
	LCD_EN(1); 
	delay_ms(1);
	x=Text_Busy;
	LCD_EN(0); 
	delay_ms(1);
	return x;
}

/************************************************************************************************
@f_name: void LCD_chgData(u8 dat)
@brief:	 颠倒数据
@param:	 u8 dat 输入数据
@return: dat
************************************************************************************************/
u8 LCD_chgData(u8 dat)
{
	u8 temp1,temp2,i;
	temp1=0;
	temp2=0x80;
	for(i=0;i<8;i++)
	{
			if(dat&temp2)
			{
					temp1|=(1<<i);
			}
			temp2=(temp2>>1);
	}
	return temp1;	
}
/************************************************************************************************
@f_name: void LCD12684_Wcmd(u8 dat)
@brief:	 写指令
@param:	 u8 dat  输入指令
@return: None
************************************************************************************************/
void LCD12684_Wcmd1(u8 dat)
{
	dat=LCD_chgData(dat);
	//while(LCD12864_busy()); //忙检测
	LCD_CS1(1);
	LCD_RS(0);      
	LCD_RW(0);
	LCD_EN(0);
	delay_us(1);
	LCD_EN(1);
	delay_us(1);
	LCD_WriteData(dat);	  
	delay_us(1);
	LCD_EN(0);
	LCD_CS1(0);
	delay_us(1);
}

void LCD12684_Wcmd2(u8 dat)
{
	dat=LCD_chgData(dat);	
	//while(LCD12864_busy()); //忙检测
	LCD_CS2(1);
	LCD_RS(0);      
	LCD_RW(0);
	LCD_EN(0);
	delay_us(1);
	LCD_EN(1);
	delay_us(1);
	LCD_WriteData(dat);	  
	delay_us(1);
	LCD_EN(0);
	LCD_CS2(0);
	delay_us(1);
}
/************************************************************************************************
@f_name: void LCD12684_Wcmd(u8 dat)
@brief:	 写数据
@param:	 u8 dat 输入数据
@return: None
************************************************************************************************/
void LCD12684_Wdat1(u8 dat)
{
	dat=LCD_chgData(dat);
	//while(LCD12864_busy()); //忙检测
	LCD_CS1(1);
	LCD_RS(1);      
	LCD_RW(0);
	LCD_EN(0);
	delay_us(1);
	LCD_EN(1);
	delay_us(1);
	LCD_WriteData(dat);	 
	delay_us(1);
	LCD_EN(0);
	LCD_CS1(0);
	delay_us(1);
}

void LCD12684_Wdat2(u8 dat)
{
	dat=LCD_chgData(dat);	
	//while(LCD12864_busy()); //忙检测
	LCD_CS2(1);
	LCD_RS(1);      
	LCD_RW(0);
	LCD_EN(0);
	delay_us(1);
	LCD_EN(1);
	delay_us(1);
	LCD_WriteData(dat);	 
	delay_us(1);
	LCD_EN(0);
	LCD_CS2(0);
	delay_us(1);
}
/************************************************************************************************
@f_name: void LCD12864_Init(void)
@brief:	 液晶初始化
@param:	 None
@return: None
************************************************************************************************/
void LCD12864_Init(void)
{	
		LCD12684_Wcmd1(0x3E); 
		LCD12684_Wcmd2(0x3E);
    delay_us(10);
		LCD12684_Wcmd1(0x3F);  
		LCD12684_Wcmd2(0x3F);
    delay_us(10);
		LCD12684_Wcmd1(0xC0);
		LCD12684_Wcmd2(0xC0);   
    delay_us(10);
		LCD12684_Wcmd1(0xB8);
		LCD12684_Wcmd2(0xB8); 
    delay_us(10);
    LCD12684_Wcmd1(0x40);
		LCD12684_Wcmd2(0x40);  
    delay_us(10);
	
}
/************************************************************************************************
@f_name: void LCD12864_Clr(void)
@brief:	 清屏
@param:	 None
@return: None
************************************************************************************************/
void LCD12864_Clr(void)
{
	u8 i,j;
	for(i=0;i<8;i++)
	{
		LCD12684_Wcmd1(0xB8+i);
		LCD12684_Wcmd2(0xB8+i);
		LCD12684_Wcmd1(0x40);
		LCD12684_Wcmd2(0x40);
		for(j=0;j<64;j++)
		{
			LCD12684_Wdat1(0x00);
			LCD12684_Wdat2(0x00);
		}
	}
} 

void LCD12864_test(void)
{
	u8 i,j;
	for(i=0;i<8;i++)
	{
		LCD12684_Wcmd1(0xB8+i);
		LCD12684_Wcmd2(0xB8+i);
		LCD12684_Wcmd1(0x40);
		LCD12684_Wcmd2(0x40);
		for(j=0;j<64;j++)
		{
			LCD12684_Wdat1(j);
			LCD12684_Wdat2(j);
		}
	}
}

void LCD12864_PosWr(u8 r,u8 l,u8 *dptr,u8 rnum,u8 lnum,u8 sel)
{
	u8 i,j,k;	
	u8 wtmp;
	j=0;
	k=0;
	if(l<64)
	{
		for(k=0;k<rnum;k++)
		{
			LCD12684_Wcmd1(0x40+l);
			LCD12684_Wcmd1(0xB8+r+k);
			i=l;
			for(j=0;j<lnum;j++)
			{
				wtmp=*(dptr+j);
				if(sel)
				{wtmp=~wtmp;}
				
				if(i==64)
				{
					LCD12684_Wcmd2(0x40);
					LCD12684_Wcmd2(0xB8+r+k);	
				}
				if(i<64)
				{
					LCD12684_Wdat1(wtmp);
				}
				else
				{
					LCD12684_Wdat2(wtmp);
				}				
				i++;
				if(i>=128)
				{break;}
			}
			dptr+=lnum;
		}		
	}
	else
	{
		for(k=0;k<rnum;k++)
		{
			LCD12684_Wcmd2(l);
			LCD12684_Wcmd2(0xB8+r+k);
			i=l;
			for(j=0;j<lnum;j++)
			{
				wtmp=*(dptr+j);
				if(sel)
				{wtmp=~wtmp;}
				LCD12684_Wdat2(wtmp);
				i++;
				if(i>=128)
				{break;}
			}
			dptr+=lnum;
		}
	}	
}

void LCD12864_start(void)
{
	u8 *wptr;
#if	ENGLISH
	wptr=(u8 *)WELCOME;
	LCD12864_PosWr(2,15,wptr,4,98,0);
#else
	wptr=(u8 *)WELCOME;
	LCD12864_PosWr(0,15,wptr,4,98,0);
	LCDputstring("中文",2,5,18,english_flag^0x01);
	LCDputstring("ENGLISH",7,5,60,english_flag);
#endif
}

void LCD12864_R_type(u8 type,u8 sel)
{	
	LCDputstring((u8*)&r_dis[type][0],3,0,40,sel);
}
void LCD12864_R_name(void)
{
	if(english_flag==1)
	{	LCDputstring("ROTOR    #",10,0,0,0);}
	else
	{	LCDputstring("转子     #",8,0,0,0);}	
}

void LCD12864_ROTOR(u8 type)
{
	u8 sel;
	LCD12864_R_name();
	sel=(ITEM_ST==0)?1:0;
	LCD12864_R_type(type,sel);
}

void LCD12864_S_name(void)
{
	if(english_flag==1)
	{	LCDputstring("SPEED         RPM ",18,2,0,0);}
	else
	{	LCDputstring("转速         转/分",14,2,0,0);}
	//LCDputstring("转速         转/分",14,2,0,0);
	//LCDputstring("转/分",3,2,87,0);
}
void LCD12864_S_type(u8 r,u8 l,u8 type,u8 sel)
{
	LCDputstring("     ",4,r,l-28,0);
	if(type>2)
			return;
	else
		LCDputstring((u8*)&s_dis[type][0],3,r,l-21,sel);
	/*
	switch(type)
	{
		case 0://7.5:
			LCDputstring("7.5",3,r,l-21,sel);
			break;
		case 1://75:
			LCDputstring("75",2,r,l-14,sel);
			break;
		case 2://750:
			LCDputstring("750",3,r,l-21,sel);
			break;

		case 3://自动:
			if(english_flag==1)
			{	LCDputstring("AUTO",4,r,l-28,sel);}
			else
			{	LCDputstring("自动",2,r,l-28,sel);}
			break;
		default:return;
	}
	*/
}
void LCD12864_SPEED(u8 type)
{
	u8 sel;
	sel=(ITEM_ST==1)?1:0;	
	LCD12864_S_name();
	LCD12864_S_type(2,80,type,sel);
}

void LCD12864_OUT_name(void)
{
	if(english_flag==1)
	{	LCDputstring("OUTPUT",6,4,0,0);}
	else
	{	LCDputstring("输出",2,4,0,0);}
	//LCDputstring("输出",2,4,0,0);
}

void LCD12864_OUT_type(u8 type,u8 sel)
{
	if(type==0)
	{
		LCDputstring("     ",5,4,64,0);
		if(english_flag==1)
		{	LCDputstring("SEND",4,4,64,sel);}
		else
		{	LCDputstring("通讯",2,4,64,sel);}
		//LCDputstring("通讯",2,4,64,sel);
	}
	else if(type==1)
	{
		if(english_flag==1)
		{	LCDputstring("PRINT",5,4,64,sel);}
		else
		{	LCDputstring("打印",2,4,64,sel);}
		//LCDputstring("打印",2,4,64,sel);
	}	
}
void LCD12864_OUTPUT(u8 type)
{
	u8 sel;
	sel=(ITEM_ST==2)?1:0;	
	LCD12864_OUT_name();
	LCD12864_OUT_type(type,sel);
}

void LCD12864_CLOCK_name(void)
{
	if(english_flag==1)
	{	LCDputstring("CLOCK ",6,6,0,0);}
	else
	{	LCDputstring("时间  ",4,6,0,0);}
	//LCDputstring("时间  ",4,6,0,0);
}

void LCD12864_CLOCK_type(u8 type,u8 sel)
{	
	if(type==0)
	{
		if(english_flag==1)
		{	LCDputstring("DISPLAY",7,6,64,sel);}
		else
		{	LCDputstring("显示",2,6,64,sel);}
		//LCDputstring("显示",2,6,64,sel);
	}
	else if(type==1)
	{
		LCDputstring("       ",7,6,64,0);
		if(english_flag==1)
		{	LCDputstring("SETUP",5,6,64,sel);}
		else
		{	LCDputstring("修改",2,6,64,sel);}
		//LCDputstring("修改",2,6,64,sel);
	}	
}

void LCD12864_CLOCK(u8 type)
{
	u8 sel;
	sel=(ITEM_ST==3)?1:0;
	LCD12864_CLOCK_name();
	LCD12864_CLOCK_type(type,sel);
}

void LCD12864_SEL(u8 item)
{
	switch(item)
	{
		case 0:
			LCD12864_R_type(r_type,1);			
			break;
		case 1:
			LCD12864_S_type(2,80,s_type,1);	
			break;
		case 2:
			LCD12864_OUT_type(o_type,1);	
			break;
		case 3:
			LCD12864_CLOCK_type(c_type,1);	
			break;
		default:break;
	}
}

void LCD12864_muenCH(void)
{
	LCD12864_Clr();
	LCD12864_ROTOR(r_type);
	LCD12864_SPEED(s_type);
	LCD12864_OUTPUT(o_type);
	LCD12864_CLOCK(c_type);
}

void LCD12864_ClrItem(u8 item,u8 dir)
{
	switch(item)
	{
			case 0:
				if(dir)
				{LCD12864_S_type(2,80,s_type,0);}
				else
				{LCD12864_CLOCK_type(c_type,0);}
				LCD12864_R_type(r_type,1);
				break;
			case 1:
				if(dir)
				{LCD12864_OUT_type(o_type,0);}
				else
				{LCD12864_R_type(r_type,0);}
				LCD12864_S_type(2,80,s_type,1);
				break;
			case 2:
				if(dir)
				{LCD12864_CLOCK_type(c_type,0);}
				else
				{LCD12864_S_type(2,80,s_type,0);}
				LCD12864_OUT_type(o_type,1);
				break;		
			case 3:
				if(dir)
				{LCD12864_R_type(r_type,0);}
				else
				{LCD12864_OUT_type(o_type,0);}
				LCD12864_CLOCK_type(c_type,1);
				break;
			default:break;
	}
}	

void LCD12864_LAUG(u8 laug)
{
	if(laug)
	{
		LCDputstring("中文",2,5,18,0);
		LCDputstring("ENGLISH",7,5,60,1);
	}
	else
	{
		LCDputstring("中文",2,5,18,1);
		LCDputstring("ENGLISH",7,5,60,0);
	}
}

void LCD12864_Ptime(u8 hour,u8 min,u8 sec,u16 year,u8 month,u8 date,u8 sel)
{
	LCD12864_Clr();
	if(english_flag==0)
	{
		LCDputvalue((float)year,1,42,0,4,sel);//LCD12864_value(1,8,year,sel);
		LCDputstring("年",1,1,43,0);
		LCDputvalue((float)month,1,70,0,2,0);//LCD12864_value(1,56,month,0);
		LCDputstring("月",1,1,71,0);
		LCDputvalue((float)date,1,98,0,2,0);//LCD12864_value(1,104,date,0);
		LCDputstring("日",1,1,99,0);
	}
	else
	{
		LCDputvalue((float)date,1,42,0,2,sel);//LCD12864_value(1,104,date,0);	
		LCDputchar('-',1,43,0);
		LCDputvalue((float)month,1,64,0,2,0);//LCD12864_value(1,56,month,0);
		LCDputchar('-',1,65,0);
		LCDputvalue((float)year,1,99,0,4,0);//LCD12864_value(1,8,year,sel);	
	}

	LCDputvalue((float)hour,4,49,0,2,0);//LCD12864_value(4,32,hour,0);
	LCDputchar(':',4,50,0);//LCD12864_PosWr(4,48,wptr,2,8,0);
	LCDputvalue((float)min,4,71,0,2,0);//LCD12864_value(4,56,min,0);
	LCDputchar(':',4,71,0);//LCD12864_PosWr(4,72,wptr,2,8,0);
	LCDputvalue((float)sec,4,92,0,2,0);//LCD12864_value(4,80,sec,0);
	
}

void LCD12864_Stime(u8 hour,u8 min,u8 sec,u16 year,u8 month,u8 date,u8 sel)
{	
	switch(sel)
	{
			case 0:
				if(english_flag==0)
					LCDputvalue((float)year,1,42,0,4,1);//LCD12864_value(1,8,year,1);
				else
					LCDputvalue((float)date,1,42,0,2,1);//LCD12864_value(1,88,date,1);
				break;
			case 1:
				if(english_flag==0)
					LCDputvalue((float)month,1,70,0,2,1);//LCD12864_value(1,56,month,1);
				else
					LCDputvalue((float)month,1,64,0,2,1);//LCD12864_value(1,56,month,1);
				break;
			case 2:
				if(english_flag==0)
					LCDputvalue((float)date,1,98,0,2,1);//LCD12864_value(1,88,date,1);
				else
					LCDputvalue((float)year,1,99,0,4,1);//LCD12864_value(1,8,year,1);
				break;
			case 3:
				LCDputvalue((float)hour,4,49,0,2,1);//LCD12864_value(4,32,hour,1);
				break;
			case 4:
				LCDputvalue((float)min,4,71,0,2,1);//LCD12864_value(4,56,min,1);
				break;
			case 5:
				LCDputvalue((float)sec,4,92,0,2,1);//LCD12864_value(4,80,sec,1);
				break;
			default:break;			
	}
}

void LCD12864_uStime(u8 hour,u8 min,u8 sec,u16 year,u8 month,u8 date,u8 sel)
{	
	switch(sel)
	{
			case 0:
				if(english_flag==0)
					LCDputvalue((float)year,1,42,0,4,0);//LCD12864_value(1,8,year,1);
				else
					LCDputvalue((float)date,1,42,0,2,0);//LCD12864_value(1,88,date,1);
				break;
			case 1:
				if(english_flag==0)
					LCDputvalue((float)month,1,70,0,2,0);//LCD12864_value(1,56,month,1);
				else
					LCDputvalue((float)month,1,64,0,2,0);//LCD12864_value(1,56,month,1);
				break;
			case 2:
				if(english_flag==0)
					LCDputvalue((float)date,1,98,0,2,0);//LCD12864_value(1,88,date,1);
				else
					LCDputvalue((float)year,1,99,0,4,0);//LCD12864_value(1,8,year,1);
				break;
			case 3:
				LCDputvalue((float)hour,4,49,0,2,0);//LCD12864_value(4,32,hour,0);
				break;
			case 4:
				LCDputvalue((float)min,4,71,0,2,0);//LCD12864_value(4,56,min,0);
				break;
			case 5:
				LCDputvalue((float)sec,4,92,0,2,0);//LCD12864_value(4,80,sec,0);
				break;
			default:break;			
	}
}

void LCD12864_Runtime(u8 hour,u8 min,u8 sec,u16 year,u8 month,u8 date,u8 sel)
{
	LCDputvalue((float)sec,4,92,0,2,0);//LCD12864_value(4,80,sec,0);
	if(sec==0)
	{
			LCDputvalue((float)min,4,71,0,2,0);//LCD12864_value(4,56,min,0);
			if(min==0)
			{
					LCDputvalue((float)hour,4,49,0,2,0);//LCD12864_value(4,32,hour,0);
					if(hour==0)
					{
							LCDputvalue((float)date,1,99,0,2,0);//LCD12864_value(1,88,date,0);
							if(date==1)
							{
									LCDputvalue((float)month,1,78,0,2,0);//LCD12864_value(1,56,month,0);
									if(month==1)
									{
											LCDputvalue((float)year,1,56,0,4,sel);//LCD12864_value(1,8,year,sel);
									}
							}
					}
			}
	}	
}

void LCD12864_VISCOUS(u8 unit)
{
	if(english_flag==1)
	{	LCDputstring("DATA  ",6,4,0,0);}
	else
	{	LCDputstring("粘度",2,4,0,0);}
	//LCDputstring("粘度",2,4,0,0);
	//LCDputstring("----.-mPa`s",11,4,43,0);
	LCDputstring("   ----.-cp",11,4,43,0);
}

void LCD12864_PERCENT(void)
{
	if(english_flag==1)
	{	LCDputstring("PERCENT",7,6,0,0);}
	else
	{	LCDputstring("百分比",3,6,0,0);}
	//LCDputstring("百分比",3,6,0,0);
	LCDputstring("   --.-% ",9,6,56,0);
}
void LCD12864_RPM(void)
{
	LCDputstring(" RPM  ",6,2,80,0);
	LCD12864_cJDT();
}
	
void LCD12864_Meas(u8 unit)
{	
	LCD12864_RPM();
	
	LCD12864_VISCOUS(unit);
	LCD12864_PERCENT();		
}

void LCD12864_Halt(void)
{
	LCDputstring("       ",7,2,59,0);
	if(english_flag==1)
	{	LCDputstring("STOP",4,2,66,0);}
	else
	{	LCDputstring("暂停",2,2,66,0);}
	//LCDputstring("暂停",2,2,66,0);	
}

void LCD12864_Resume(u8 type)
{
	LCD12864_RPM();
	LCD12864_S_type(2,80,type,0);
}

void LCD12864_Ztype(u8 type,float percent)
{
	LCD12864_S_type(5,28,type,0);
	LCDputvalue(percent,5,106,1,5,0);
}

void LCD12864_Zname(void)
{
		LCD12864_Clr();
		LCDputstring("零位偏移量:",6,2,0,0);
		LCDputstring("RPM",3,5,35,0);		
		LCDputchar('%',5,106,0);
}

// void LCD12864_Zname(void)
// {
// 		LCD12864_Clr();
// 		LCDputstring("显示模式",4,2,14,0);
// 		LCDputstring("RPM",3,5,35,0);		
// 		LCDputchar('%',5,106,0);
// }

void LCD12864_JDT(u8 step)
{
		u8 tempJDT[6]={0x7E,0x7E,0x7E,0x7E,0x7E,0x7E};
		//u8 tempstep=0;
		if(step<8)
		{
				do
				{	LCD12864_PosWr((7-step),121,tempJDT,1,6,0);}
				while(step--);
		}
}

void LCD12864_cJDT(void)
{
		u8 i=0;
		u8 tempJDT[8]={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};
		for(i=0;i<8;i++)
		{
				LCD12864_PosWr(i,120,tempJDT,1,8,0);
		}
}

void LCDputchar(u8 tmpchar,u8 r,u8 l,u8 ZF)
{
		 if(tmpchar<0x20||tmpchar>126)
		 {	return;}
		 LCD12864_PosWr(r,l,(u8 *)&AsciiCode[tmpchar-0x20][0],2,7,ZF);
}

u8 LCDputstring(u8 *tmpstring,u8 len,u8 r,u8 l,u8 ZF)
{
		u8	tlen=len;
		u8	tpnum;
		while(((*tmpstring) != '\0')&&(tlen--))
		{
			if(*tmpstring>0x7F)
			{
				tpnum=ZHtoBIN(*tmpstring,*(tmpstring+1));
				if(tpnum!=0xff)
				{
					LCD12864_PosWr(r,l,(u8 *)&ZhongCode[tpnum][0],2,14,ZF);
					tmpstring+=2;
					l+=14;
				}
				else
				{
					tmpstring++;
				}					
			}
			else
			{
				LCD12864_PosWr(r,l,(u8 *)&AsciiCode[(*tmpstring++)-0x20][0],2,7,ZF);
				l+=7;
			}
		}	
		 return tlen;	
}

void LCDputvalue(float tmpvalue,u8 r,u8 l,u8 Xiao,u8 Wide,u8 ZF)
{
		u32 tmpV;
		u8 tlen,tchar,tx;
		tx=Xiao;
		while(tx--)
		{
			tmpvalue*=10;	
		}
		if(tmpvalue<0)
		{	tmpV=(u32)(-tmpvalue);}
		else
		{	tmpV=(u32)tmpvalue;	}
		//tmpV=(u32)tmpvalue;	
		
		for(tlen=0;tlen < Wide;tlen++)
		{
			l=l-7;
			if((Xiao != 0)&&(tlen == Xiao))
			{	LCDputchar('.',r,l,ZF);}
			else
			{
				tchar=(u8)(tmpV%10);
				tmpV=tmpV/10;
				if((tmpV == 0)&&(tchar == 0)&&(tlen > (Xiao+1)))
				{
					if((tlen == (Xiao+2))&&(tmpvalue<0))
					{
						LCDputchar('-',r,l,ZF);
					}
					else
					{
						LCDputchar(' ',r,l,ZF);
					}							
				}
				else
				{
					LCD12864_PosWr(r,l,(u8 *)&AsciiCode[tchar+0x10][0],2,7,ZF);
				}			
			}			
		}
}
#if 1
u8 ZHtoBIN(u8 ZHr,u8 ZHl)
{
	u8 ZHnum=0xFF;
	switch(ZHr)
	{
		case 0xA1:
			switch(ZHl)
			{
					case 0xE6:
						ZHnum=ssdu;//"℃"
					break;
					default:break;
			}
			break;
		case 0xB0:
			switch(ZHl)
			{
					case 0xD9:
						ZHnum=bai;//百
					break;
					default:break;
			}
			break;
		case 0xB1:
			switch(ZHl)
			{
					case 0xC8:
						ZHnum=bi;//比
					break;
					default:break;
			}
			break;
		case 0xB3:
			switch(ZHl)
			{
					case 0xA3:
						ZHnum=chang;//常
					break;
					case 0xF6:
						ZHnum=chu;//出
					break;
					default:break;
			}
			break;
		case 0xB4:
			switch(ZHl)
			{
					case 0xF2:
						ZHnum=da;//打
					break;
					default:break;
			}
			break;
		case 0xB6:
			switch(ZHl)
			{
					case 0xAF:
						ZHnum=dong;//动
					break;
					case 0xC8:
						ZHnum=du;//度
					break;
					default:break;
			}
			break;
		case 0xB7:
			switch(ZHl)
			{
					case 0xA2:
						ZHnum=fa;//发
					break;
					case 0xD6:
						ZHnum=fen;//分
					break;
					default:break;
			}
			break;
		case 0xB8:
			switch(ZHl)
			{
					case 0xC4:
						ZHnum=gai;//改
					break;
					default:break;
			}
			break;
		case 0xBC:
			switch(ZHl)
			{
					case 0xE4:
						ZHnum=jian;//间
					break;
					default:break;
			}
			break;
		case 0xBE:
			switch(ZHl)
			{
					case 0xDD:
						ZHnum=ju;//据
					break;
					default:break;
			}
			break; 
		case 0xC1:
			switch(ZHl)
			{
					case 0xBF:
						ZHnum=liang;//量
					break;
					case 0xE3:
						ZHnum=ling;//零
					break;
					default:break;
			}
			break;
		case 0xC4:
			switch(ZHl)
			{
					case 0xA3:
						ZHnum=mo;//模
					break;
					case 0xEA:
						ZHnum=nian;//年
					break;
					default:break;
			}
			break;
		case 0xC6:
			switch(ZHl)
			{
					case 0xAB:
						ZHnum=pian;//偏
					break;
					default:break;
			}
			break;
		case 0xC8:
			switch(ZHl)
			{
					case 0xD5:
						ZHnum=ri;//日
					break;
					default:break;
			}
			break;
		case 0xC9:
			switch(ZHl)
			{
					case 0xE8:
						ZHnum=she;//设
					break;
					default:break;
			}
			break;
		case 0xCA:
			switch(ZHl)
			{
					case 0xB1:
						ZHnum=shi1;//时
					break;
					case 0xBD:
						ZHnum=shi2;//式
					break;
					case 0xBE:
						ZHnum=shi3;//示
					break;
					case 0xE4:
						ZHnum=shu1;//输
					break;
					case 0xFD:
						ZHnum=shi2;//数
					break;
					default:break;
			}
			break;
		case 0xCB:
			switch(ZHl)
			{
					case 0xCD:
						ZHnum=song;//送
					break;
					case 0xD9:
						ZHnum=su;//速
					break;
					default:break;
			}
			break;
		case 0xCD:
			switch(ZHl)
			{
					case 0xA3:
						ZHnum=ting;//停
					break;
					case 0xA8:
						ZHnum=tong;//通
					break;
					default:break;
			}
			break;
		case 0xCE:
			switch(ZHl)
			{
					case 0xAA:
						ZHnum=wei1;//为
					break;
					case 0xBB:
						ZHnum=wei2;//位
					break;
					case 0xC4:
						ZHnum=wen;//文
					break;
					default:break;
			}
			break;	
		case 0xCF:
			switch(ZHl)
			{
					case 0xC2:
						ZHnum=xia;//下
					break;
					case 0xD4:
						ZHnum=xian;//显
					break;
					default:break;
			}	
			break;
		case 0xD0:
			switch(ZHl)
			{
					case 0xDE:
						ZHnum=xiu;//修
					break;
					default:break;
			}
			break;	
		case 0xD1:
			switch(ZHl)
			{
					case 0xB6:
						ZHnum=xun;//讯
					break;
					default:break;
			}
			break;			
		case 0xD2:
			switch(ZHl)
			{
					case 0xC6:
						ZHnum=yi1;//移
					break;
					case 0xD4:
						ZHnum=yi2;//以
					break;
					default:break;
			}	
	    break;				
		case 0xD3:
			switch(ZHl)
			{
					case 0xA1:
						ZHnum=yin;//印
					break;
					default:break;
			}
			break;			
		case 0xD4:
			switch(ZHl)
			{
					case 0xC2:
						ZHnum=yue;//月
					break;
					case 0xDA:
						ZHnum=zai;//在
					break;
					case 0xDD:
						ZHnum=zan;//暂
					break;
					default:break;
			}
			break;		
		case 0xD5:
			switch(ZHl)
			{
					case 0xB3:
						ZHnum=zhant;//粘
					break;
					case 0xFD:
						ZHnum=zheng;//正
					break;
					default:break;
			}	
			break;	 		   
    case 0xD6:
			switch(ZHl)
			{
					case 0xB5:
						ZHnum=zhi1;//值
					break;
					case 0xC3:
						ZHnum=zhi2;//置
					break;
					case 0xD0:
						ZHnum=zhong1;//中
					break;
					case 0xD3:
						ZHnum=zhong2;//钟
					break;
					default:break;
			}
			break;			
		case 0xD7:
			switch(ZHl)
			{
					case 0xAA:
						ZHnum=zhuan;//转
					break;
					case 0xD3:
						ZHnum=zi1;//子
					break;
					case 0xD4:
						ZHnum=zi2;//自
					break;
					default:break;
			}
			break;					
		default:break;
	}	
	return ZHnum;
}
#endif
void LCD_DVsel(u8 sel)
{
	if(sel==0)
	{	
		LCDputchar('@',1,7,0);
		LCDputchar(' ',5,7,0);
	}
	else
	{	
		LCDputchar('@',5,7,0);
		LCDputchar(' ',1,7,0);
	}
}

void LCD_DVmuen(u8 sel)
{
		LCD12864_Clr();
		LCD_DVsel(sel);
		LCDputstring("显示模式设置",6,1,21,0);
		LCDputstring("粘度值设置",5,5,21,0);
}

void LCD_Dsel(u8 sel)
{
	if(sel)
	{
		LCDputstring("0.5以下显示为0",9,3,21,0);
		LCDputstring("0.5以下正常显示",9,6,21,1);
	}
	else
	{
		LCDputstring("0.5以下显示为0",9,3,21,1);
		LCDputstring("0.5以下正常显示",9,6,21,0);
	}
}

void LCD_Dmod(u8 sel)
{
		LCD12864_Clr();
		LCDputstring("显示模式:",5,0,0,0);
		LCDputstring(" 1.",3,3,0,0);
		LCDputstring(" 2.",3,6,0,0);
		LCD_Dsel(sel);
}

void LCD_VK(u8 rtype,u8 stype,float vk)
{
		//LCDputchar((rtype+0x30),2,23,0);
		LCDputstring((u8*)&r_dis[rtype][0],3,2,16,0);
		LCD12864_S_type(2,79,stype,0);
		LCDputvalue(vk,4,80,3,5,0);
}

void LCD_Kmuen(u8 rtype,u8 stype,float vk)
{
		LCD12864_Clr();
		LCDputstring(" #     RPM",10,2,30,0);
		LCD_VK(rtype,stype,vk);
}
